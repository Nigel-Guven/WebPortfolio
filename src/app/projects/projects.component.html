<div class="container-fluid position-relative">

  <!-- Overlay when sidebar is open -->
  <div class="overlay" *ngIf="!isCollapsed" (click)="isCollapsed = true"></div>

  <div class="d-flex">

    <!-- Sliding Filter Sidebar -->
    <div class="filter-sidebar bg-light border-end shadow-sm p-3"
         [ngClass]="{'open': !isCollapsed, 'closed': isCollapsed}">

      <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="m-0">{{ HARDCODED_STRINGS.BUTTONS.SORT }}</h5>
        <button class="btn btn-sm btn-outline-secondary" (click)="isCollapsed = true">&times;</button>
      </div>

      <form>
        <div class="mb-3">
          <small class="fw-bold">{{HARDCODED_STRINGS.LANGUAGES_COLON}}</small>
          <div *ngFor="let languageTag of availableLanguageTags" class="form-check">
            <input type="checkbox" class="form-check-input me-2"
                   (change)="toggleLanguageTag(languageTag)"
                   [checked]="selectedLanguageTags.has(languageTag)">
            <label class="form-check-label small">{{languageTag}}</label>
          </div>
        </div>

        <div class="mb-3">
          <small class="fw-bold">{{HARDCODED_STRINGS.FRAMEWORKS_COLON}}:</small>
          <div *ngFor="let frameworkTag of availableFrameworkTags" class="form-check">
            <input type="checkbox" class="form-check-input me-2"
                   (change)="toggleFrameworkTag(frameworkTag)"
                   [checked]="selectedFrameworkTags.has(frameworkTag)">
            <label class="form-check-label small">{{frameworkTag}}</label>
          </div>
        </div>

        <button type="button" class="btn btn-outline-secondary w-100" (click)="undoFilter()" [hidden]="!isFilterActive">
          {{HARDCODED_STRINGS.BUTTONS.UNDO}}
        </button>
      </form>
    </div>

    <!-- Main Content -->
    <div class="flex-grow-1 p-3">

      <button class="btn btn-outline-primary mb-3" (click)="isCollapsed = !isCollapsed">
        <i class="bi bi-funnel-fill me-1"></i> Sort
      </button>

      <div class="row justify-content-center">
        <div *ngFor="let project of filteredProjects" class="col-lg-4 col-md-6 mb-4 d-flex justify-content-center">
          <app-project-card [project]="project"></app-project-card>
        </div>
      </div>
    </div>

  </div>
</div>
